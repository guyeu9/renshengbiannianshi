人生编年史APP产品需求文档（PRD）
一、文档信息
项目名称
人生编年史APP
文档版本
v1.0
产品定位
全维度的人生记录与回忆系统，以“万物互联”与“数据洞察”为核心，打造专属“人生博物馆”，挖掘定义生命质感的碎片化回忆


核心理念
记录不是终点，连接与回响才是


文档作者
XXX
编制日期
XXX
修订记录
v1.0：初始版本，完成核心功能与完整模块搭建


适用范围
产品开发、设计、测试、运营全团队


二、产品概述
2.1 产品愿景
打破碎片化记录的孤立壁垒，打造一款“有温度、有记忆、有回响”的人生记录工具，让每一个容易被忽略的生命碎片（美食、心情、旅行、陪伴）都能被妥善留存、智能关联，最终汇聚成属于用户的“人生博物馆”，实现“回望过往有痕迹，立足当下有感知，展望未来有期待”的核心价值。
2.2 核心价值
- 记录价值：低门槛留存生活碎片，支持多形式（图文、视频、地理位置）记录，减少用户手动输入成本；
- 关联价值：通过“万物关联”逻辑，让美食、旅行、朋友、心情等记录相互串联，呈现“一事多痕”的完整回忆；
- 洞察价值：借助AI技术，从碎片化数据中提炼生活规律、情绪变化、人际关系特点，帮助用户更了解自己；
- 传承价值：通过年度传记、PDF导出等功能，将碎片化记录转化为可留存、可分享的“人生档案”。

2.4 产品痛点解决方案
用户痛点
解决方案
对应功能模块
记录碎片化，无法关联
建立万物关联逻辑，所有记录实体可手动/自动关联，形成完整回忆链
核心系统逻辑+各模块关联功能
检索困难，找不到特定回忆
AI智能搜索（自然语言检索）+ 多维度筛选（标签、日期、人物、类别）
AI洞察-智能搜索+各模块筛选功能
记录流程繁琐，难以坚持
半自动化记录（自动抓取位置、天气等元数据）+ 简化发布流程
各模块半自动化功能
好友陪伴历程无留存
同行者关联+共同回忆轴+好友重逢提醒
羁绊模块+人生路漫漫模块
无法直观看到生活轨迹与情绪变化
味觉地图、心情气泡图、进度条视觉化、年度报告
美食诱惑、小确幸、人生目标、高级功能
三、核心系统逻辑：万物关联（Universal Linking）
本逻辑为产品灵魂，基于关系型数据库设计，确保所有记录实体可互联、可追溯，实现“一事多痕、一痕多联”，让回忆形成完整网络。
3.1 实体分类
所有记录对象均为“关联实体”，分为以下6大类（支持后续拓展新增），每类实体包含基础属性与关联属性：
- 美食实体：包含基础属性（图文、标签、评分、地理位置、人均、日期）、关联属性（关联朋友、关联旅行、关联心情）；
- 小确幸实体：包含基础属性（图文、视频、心情、日期、位置）、关联属性（关联朋友、关联旅行、关联目标）；
- 旅行实体：包含基础属性（行程、日期、地点、图文）、关联属性（关联朋友、关联美食、关联小确幸）；
- 目标实体：包含基础属性（目标内容、层级、进度、日期）、关联属性（关联小确幸、关联旅行、关联美食）；
- 朋友实体：包含基础属性（档案信息、联络频率、生日）、关联属性（关联美食、关联旅行、关联小确幸）；
- 日程实体：为聚合实体，自动同步以上所有实体的日期、事件，无需手动记录。
3.2 关联规则
- 手动关联：用户发布任意实体记录时，可手动勾选关联其他实体（如发布美食时，勾选“关联朋友-张三”“关联旅行-成都之行”）；
- 自动关联：满足以下条件时，系统自动关联实体：
        
  - 旅行与美食：同一日期、同一地理位置的旅行记录与美食记录，自动关联；
  - 朋友与旅行/美食：旅行/美食记录中手动关联朋友后，自动在该朋友实体中添加对应陪伴历程；
  - 小确幸与心情：发布小确幸时选择的心情，自动关联至当日心情气泡图，参与月度情绪计算；
  - 日程与所有实体：所有实体发布后，自动同步至对应日期的日程中，生成对应图标标识。
- 关联展示：点击任意实体的“关联标识”，可快速跳转至关联的其他实体记录；朋友档案、旅行行程中，自动聚合所有关联实体，形成完整回忆链。
3.3 关联标签标准化
支持用户自定义标签，核心标签分类举例如下：
- 美食标签：深夜食堂、纪念日、一人食、家庭聚餐、朋友小聚、探店、外卖、大餐；
- 心情标签：开心、平静、治愈、焦虑、难过、期待、疲惫、惊喜；
- 旅行标签：亲子游、情侣游、朋友游、独自旅行、短途游、长途游、出差顺带、蜜月；
- 目标标签：职业、健康、旅行、美食、学习、社交、家庭。
四、功能需求（详细模块）
4.1 首页：日程模块（综合聚合）
4.1.1 核心功能
- 视图切换：默认展示月历视图，支持切换周视图、日视图，切换动画丝滑（符合UI/UX要求）；
- 日历展示：月历视图中，每个日期格子内显示对应事件的小图标（哑铃=健身、餐具=美食、心形=社交、飞机=旅行、星星=小确幸），多个图标可叠加显示；维护事件（健身、读书等）用“能量图标”标识（如红色哑铃=高强度健身、蓝色书本=轻松阅读）；
- 事件详情：点击任意日期，日历组件下方滑出当日所有关联事件，按时间顺序排列，每个事件卡片显示核心信息（图文缩略图、事件名称、关联实体标识），点击卡片可跳转至对应模块的详细记录；
- 那年今日：首页顶部固定展示“那年今日”模块，自动检索往年今日的所有记录，按时间顺序瀑布流展示，支持点击跳转详情；
- 快速发布：首页右上角设置“+”号按钮，支持快速发布任意模块的记录（美食、小确幸、旅行、目标），跳转至对应发布页面，自动携带当日日期。
4.1.2 补充功能
- 日期检索：支持手动选择日期（日历跳转）、输入日期检索，快速找到对应日期的所有记录；
- 事件筛选：滑出当日事件后，支持按模块（美食、旅行等）筛选，快速定位所需记录；
- 今日提醒：首页顶部展示当日提醒（朋友生日、目标进度提醒、好友重逢提醒），点击可跳转至对应模块。
4.1.3 交互逻辑
进入首页→默认月历视图→点击日期→滑出当日事件→点击事件卡片→跳转至对应模块详情；点击“+”号→选择发布类型→跳转发布页面；点击“那年今日”记录→跳转对应详情；切换视图→平滑过渡，无卡顿。
4.2 美食诱惑模块
4.2.1 核心功能（基础版）
- 记录发布：支持按日期记录美食，发布页面支持上传图文（最多9张图）、添加标签（从标准化标签库选择+自定义）、评分（1-5星）、输入人均消费、添加超链接（店铺链接、外卖链接）、关联地理位置（自动抓取当前位置或手动选择）；
- 内容展示：采用瀑布流形式展示所有美食记录，按日期倒序排列，每张卡片显示核心信息（图片、店名、评分、标签、日期、地理位置），点击卡片可查看详情；
- 心愿清单：单独分区展示，支持发布想去品尝的店铺，内容包含图文、地理位置、超链接、备注（如“想和张三一起去”），支持标记“已品尝”（标记后自动转移至美食记录列表，标注“心愿达成”标签）；
- 搜索与筛选：支持关键词搜索（店名、标签、地理位置），支持复合筛选（日期范围、评分、标签、地理位置、关联朋友/旅行）。
4.2.2 补充功能（进阶版）
- 味觉地图：模块顶部设置“味觉地图”入口，点击进入新界面后，自动关联所有美食记录的地理位置，在地图上生成标记（已品尝为红色、心愿清单为灰色），点击标记可查看对应美食记录；支持缩放地图、按日期筛选地图上的标记；可生成“年度味觉地图”，导出长图/PDF；
- 大餐标签化：优化标签功能，支持情绪类标签（如“治愈系”“解压”）、场景类标签（如“深夜食堂”“纪念日”“一人食”），方便按情绪、场景检索；
- 美食收藏：支持收藏喜欢的美食记录，单独在个人收藏界面展示，可批量导出收藏的美食图文；
- 关联展示：美食详情页底部显示“关联记录”（关联的朋友、旅行、小确幸），点击可跳转对应详情；

4.2.3 交互逻辑
进入美食模块→默认瀑布流展示美食记录→点击“心愿清单”切换分区→点击“+”号发布美食/心愿→发布时勾选关联实体→发布完成后自动同步至日程、味觉地图；点击美食卡片→查看详情+关联记录；点击味觉地图→查看美食足迹。
4.3 小确幸模块
4.3.1 核心功能（基础版）
- 记录发布：支持按日期记录日常美好瞬间（搬家、装修、桌面布置、读书、电影等），发布页面支持上传图文，选择心情（从标准化心情标签选择），输入备注；卡片背景颜色自动匹配心情（开心=粉色、平静=蓝色、治愈=绿色、焦虑=灰色等）；
- 内容展示：采用瀑布流形式展示，按日期倒序排列，每张卡片显示图文、心情标签、日期，背景为对应心情颜色，hover时轻微放大（微交互）；
- 搜索与筛选：支持关键词搜索（备注、标签），支持按日期范围、心情、关联实体（朋友、旅行）筛选。
4.3.2 补充功能（进阶版）
- AI总结：每月最后一天24点前，自动生成月度心情总结，内容包含“当月记录数量、核心事件（5件以内）、整体情绪倾向、情绪动力来源（关联实体分析）”，支持手动修改、收藏、分享；年度自动生成情绪总结，同步至人生传记；
- 场景分类：支持按场景标签（居家、读书、电影、户外等）筛选记录，单独展示某一场景的所有小确幸；
- 关联展示：小确幸详情页底部显示关联记录，点击可跳转；支持手动关联目标（如“读完一本书”关联“年度学习目标”）。
4.3.3 交互逻辑
进入小确幸模块→默认瀑布流展示记录→点击“心情气泡图”跳转至情绪视图→点击“+”号发布记录→选择心情后自动匹配背景色→发布完成后同步至日程；点击记录卡片→查看详情+关联记录；点击AI总结→查看/修改/分享。
4.4 人生路漫漫模块（旅游规划与记录）
4.4.1 核心功能（双模式切换）
模式一：愿望清单（未出行）
- 记录发布：支持记录想去的地方，发布内容包含图文（目的地图片、攻略截图）、文字备注（出行设想、预算、计划时间）、规划信息（机票/酒店链接、想打卡的景点/美食）、关联朋友（计划同行的人）；
- 内容展示：按计划时间排序，瀑布流展示，每张卡片显示目的地名称、计划时间、核心规划，支持标记“已出行”（标记后自动转移至“在路上”模块，标注“心愿达成”）；
- 规划编辑：支持修改计划信息、添加/删除打卡点。
模式二：在路上（已出行，行程游记）
- 顶部展示：顶部固定展示已去过的地方，按时间顺序排列（每行一个地点，显示地点名称、出行时间），点击地点可筛选该地点的所有行程记录；
- 行程记录：下方瀑布流展示所有行程记录，按出行时间倒序排列，支持按日期记录图文、地点、心情、当日美食，可关联朋友（同行者）、关联当地美食；
- 单次行程详情：点击单次行程，进入详情页，仅显示本次行程的所有记录（按日期排序），详情页支持一键导出（图文PDF或长图），导出内容包含行程所有记录、关联美食、同行者信息；
- 同行者关联：发布行程记录时，勾选同行的朋友（从“羁绊”模块选择），系统自动在该朋友的档案中增加这段“陪伴历程”，同步至朋友的“共同回忆轴”。
4.4.2 补充功能
- 旅行足迹地图：模块顶部设置“旅行足迹地图”入口，点击跳转地图界面，自动关联所有已出行记录的地理位置，在地图上生成轨迹（按出行时间排序），点击轨迹可查看对应行程详情；可生成“年度旅行足迹”，导出长图/PDF；
- 旅行花费记录：支持记录本次旅行的各项花费（交通、住宿、美食、景点），自动计算总花费，生成花费明细，同步至年度人生传记；
4.4.3 交互逻辑
进入旅行模块→默认展示“在路上”模式→点击顶部“愿望清单”切换模式→点击“+”号发布计划/行程→发布行程时勾选同行者→发布完成后同步至日程、旅行足迹地图、同行者档案；点击单次行程→查看详情+导出；点击足迹地图→查看旅行轨迹。
4.5 人生目标模块（层级拆解）
4.5.1 核心功能
- 目标层级拆解：支持设置年度目标，再将年度目标拆分为季度目标、月度目标，月度目标可拆分为每日小任务；每个目标支持添加备注（目标意义、执行计划）、总结（完成情况、经验教训）；
- 进度条视觉化：每个目标（年度、季度、月度）均显示进度条，进度条颜色对应目标类型（职业=蓝色、健康=红色、旅行=绿色），直观展示目标完成情况；每日小任务支持勾选“已完成”，自动同步至月度/季度/年度进度；
- 目标展示：按目标类型分区展示（职业、健康、旅行等），支持按年度、季度筛选，瀑布流展示所有目标，点击目标可查看详情（层级拆解、进度、备注、总结）。
4.5.2 补充功能
- 目标防断线：月度目标未达成时，支持一键“顺延”（将未完成部分顺延至下月）或“复盘重整”（跳转至复盘页面，输入未完成原因、调整下月计划），避免目标直接失效；
- 目标关联：支持手动关联其他实体（如“年度旅行目标”关联“成都之行”行程、“月度健身目标”关联每日健身小确幸），完成关联后，系统自动根据关联实体的完成情况，更新目标进度；
- 进度提醒：设置目标时，可选择提醒频率（每日、每周、每月），系统按频率推送进度提醒，在首页日程今日待办，提醒内容包含“当前进度、剩余时间、未完成任务”；
- 年度目标总结：年底自动生成年度目标总结，内容包含“目标完成率、核心完成/未完成目标、经验教训”，同步至人生传记；点击可以跳转历史的各个年度人生目标总结，包括目标设定、年度完成情况，年度总结分析（包含ai一键分析和个人总结）
- 目标模板：提供标准化目标模板（如“年度读书12本”“月度健身10次”），用户可直接修改使用，减少手动输入成本。
4.5.3 交互逻辑
进入目标模块→默认按年度展示目标→点击“+”号发布年度目标→拆解季度/月度目标→设置进度提醒；点击目标→查看详情、添加总结、关联实体；月度目标未完成→收到提醒，可选择顺延/复盘重整。
4.6 羁绊模块（朋友档案与相遇记录）
4.6.1 核心功能（双菜单）
菜单一：朋友档案
- 档案创建：支持手动创建朋友档案，内容包含基础信息（姓名、头像、生日、联系方式）、关联信息（认识途径、认识日期、印象标签）、互动信息（上次见面时间、联络频率、共同经历）；
- 档案展示：按认识日期倒序排列，瀑布流展示，每张卡片显示朋友姓名、头像、认识天数、上次见面时间；点击卡片进入详情页，查看完整档案；
- 共同回忆轴：档案点击打开的界面，详情页底部，自动聚合所有与该朋友的关联记录（共同美食、共同旅行、共同小确幸），按时间顺序排列，形成“共同回忆轴”，点击记录可跳转详情；
- 档案编辑：支持修改朋友信息、更新上次见面时间、添加/删除印象标签，系统自动计算认识天数（按认识日期实时更新）。
菜单二：相遇
- 内容展示：按时间轴展示，逆排序每次一条记录，显示“当日见面的朋友、做的事情（美食、旅行等事件名称）”，支持点击事件名称跳转对应记录详情；
- 自动同步：相遇记录自动同步所有关联朋友的实体记录（如与张三一起吃美食、一起旅行，自动生成相遇记录）；
- 手动添加：支持手动添加相遇记录（如线下见面未关联其他实体时），输入朋友、见面时间、见面事项即可。
4.6.2 补充功能
- （暂时不做）好友重逢提醒：创建朋友档案时，可设置联络频率（如3个月、6个月），系统根据上次见面时间（自动从关联记录中获取，无关联记录则手动输入），计算距离下次联络的时间，临近时温和提醒（APP推送、桌面小组件提醒），提醒内容为“距离上次见张三已过去2个月28天，该约TA啦”；
- AI洞察：朋友档案详情页显示AI分析结果，内容包含“互动频率分析、心情关联分析（与该朋友相处时的心情倾向）、维护建议（如“建议每月联系一次，可约一起打卡美食”）、待办事项（如“张三生日还有10天，记得准备祝福”）；
- 朋友分组：支持对朋友进行分组（如“家人”“闺蜜”“同事”），方便筛选查看；
4.6.3 交互逻辑
进入羁绊模块→默认展示朋友档案→点击“相遇”切换菜单→点击“+”号创建朋友档案/添加相遇记录；点击朋友卡片→查看档案+共同回忆轴+AI洞察；收到重逢/生日提醒→点击提醒跳转至对应朋友档案。
4.7 我的模块（个人中心）
4.7.1 核心功能
- 个人信息：展示头像、昵称、账号信息，支持修改个人资料、更换头像/昵称；
- 数据管理：支持数据导入导出（全量数据JSON格式、部分模块数据Excel/PDF格式），支持手动备份/自动备份（设置备份频率）、支持wev网盘备份zip全部数据以及增量备份（json、图片备份）；
- 人生传记：核心入口，点击进入可生成“人生编年史”（年度/自定义时间范围），支持选择包含的模块（美食、旅行、友谊等），自动排版成PDF/EPUB格式，支持预览、导出、分享；
- 设置：包含通用设置（通知开关、字体大小、主题切换）、模块设置（如关闭某模块的自动关联功能）、关于我们（版本更新、反馈建议、帮助中心）。
- 年度报告：每年12月31日，自动生成年度报告，内容包含“年度大事记、年度味觉地图、年度旅行足迹、年度友谊报告、年度情绪总结、年度目标完成情况”，支持分享至社交平台；
- 收藏中心：聚合所有模块的收藏记录（美食、小确幸、旅行等），支持按模块筛选、批量导出。
五、UI/UX设计需求
5.1 视觉风格
- 整体风格：现代简约清新风格，搭配轻微新拟物化设计，模拟真实笔记本、奖章的质感，营造温暖、治愈的氛围，贴合“人生博物馆”的定位；
- 色彩规范：
        
  - 主色调：米白色（背景）、淡青色（主按钮、导航栏），温柔不刺眼；
  - 辅助色：对应心情颜色（开心=粉色、平静=蓝色、治愈=绿色等）、模块颜色（美食=橙色、旅行=蓝色、羁绊=红色、目标=紫色）；
  - 文字色：深灰色（正文）、浅灰色（辅助文字）、白色（按钮文字，深色按钮时），确保可读性。
- 字体规范：正文采用无衬线字体（如思源黑体），标题字体加粗、略大，正文字体清晰、易读；支持用户自定义字体大小；
- 卡片设计：所有记录卡片采用圆角设计（圆角半径8px），轻微阴影，hover时轻微放大（放大比例1.02），增强层次感；小确幸卡片背景为对应心情颜色，透明度80%。
5.2 微交互设计
- 成就动效：目标达成、心愿清单标记“已完成”、发布第100条记录等成就触发时，全屏散落彩带动效（Canvas渲染，无卡顿），持续2秒后自动消失；可手动关闭动效；
- 发布动效：发布任意记录后，卡片从底部平滑弹出，伴随轻微的“气泡弹出”动画，同时显示“发布成功”提示（停留1秒）；
- 切换动效：视图切换（月/周/日）、模块切换、模式切换（旅行模块双模式）时，采用平滑过渡动画（过渡时间0.3秒），无卡顿、无跳帧；
- 关联动效：点击关联标识时，弹出关联记录卡片，伴随“涟漪”动画；关联成功时，显示“关联成功”小图标（停留0.5秒）；
- 其他动效：下拉刷新采用“旋转箭头”动画，加载时采用“骨架屏”动画（替代传统加载圈）；点击“+”号时，弹出发布菜单，伴随“展开”动画。
技术与功能要求
6.1 AI洞察功能（核心重点）
6.1.1 核心能力
- 社交画像分析：基于用户与朋友的关联记录，分析相处时的心情倾向、互动频率，生成个性化社交洞察（如“你和张三在一起时，记录的心情90%都是‘非常开心’，他是你的快乐源泉”）；
- 生活平衡度分析：基于各模块记录（加班、健身、旅行、美食等），分析用户生活状态，给出提醒与建议（如“这个月你记录了10次加班，但只记录了1次健身和0次旅游，建议休息”）；
- 情绪总结：每月/每年自动生成情绪总结，基于小确幸模块的心情记录，提炼核心事件与情绪动力来源；
- 智能搜索（RAG技术）：支持自然语言检索，可跨模块、多维度检索记录（如“去年夏天和张三吃过的日料叫什么？”“2024年3月的开心瞬间有哪些？”），检索精度≥90%；支持模糊搜索（如“和朋友去的海边餐厅”）。
6.1.2 数据处理机制（解决数据过多、图片处理问题）
- 数据存储与更新：采用“本地存储+云端加密备份”模式，启用增量备份，使用wev网盘实时上传增量的照片、json数据文件；
- 大数据处理：当用户记录数量超过1000条时，系统自动对历史数据进行压缩处理（保留核心信息，压缩非关键数据），AI分析时优先调用压缩后的核心数据，确保分析速度（分析时间≤3秒）；
6.2 万物关联功能（核心重点）
- 关联准确性：确保手动关联无错误，自动关联准确率≥95%；当出现关联错误时，支持用户手动解除关联，并反馈给系统，优化关联算法；
- 关联日志：系统自动记录所有关联操作（手动/自动），用户可在“我的-设置”中查看关联日志，方便追溯与修改；
- 标签管理：标准化标签库（系统模块设置），用户自定义标签；支持用户删除自定义标签；
- 关联展示优化：关联记录卡片统一风格，清晰标注关联类型（如“关联旅行：成都之行”），点击可快速跳转，跳转速度≤1秒。
6.3 半自动化记录功能
- 元数据抓取：自动抓取手机的位置、天气、步数等元数据，用户发布记录时，自动填充至对应字段（如地理位置、当日天气），用户可手动修改/删除；
- 权限说明：首次使用时，弹出权限申请弹窗（位置、相册、相机、麦克风、日历），明确说明每个权限的用途（如“位置权限用于生成味觉地图、旅行足迹”），用户可选择同意/拒绝，拒绝后不影响核心功能使用（仅无法自动抓取对应元数据）；
- 照片自动关联：用户相册中新增的照片（带有日期、位置信息），系统自动提醒用户“是否将该照片添加至对应模块记录”，点击可快速跳转至发布页面，自动填充照片、日期、位置。
6.4 分享与备份功能
- 导出格式支持：所有模块支持导出PDF、长图；数据导入导出支持JSON（全量数据）、Excel（部分模块数据）、zip格式导出（全部json数据和图片数据）；人生传记支持导出PDF、EPUB格式；
- 导出优化：导出的PDF/长图排版美观，符合产品视觉风格，包含核心信息（图文、日期、关联标识）；支持自定义导出内容（如选择导出某段时间的记录、选择导出的模块）；
- 分享功能：支持将单条记录、年度报告、人生传记分享至社交平台，分享时可设置以图片分享还是以文字分享；
- 备份功能：支持手动备份（点击“备份”按钮立即备份）、自动备份（可设置每日/每周/每月备份），备份数据加密存储，支持跨设备同步（登录同一账号，可在不同设备上同步备份数据）；支持备份恢复（误删数据后，可通过备份恢复）。
6.5 高级功能：人生传记编年史
- 生成流程：用户进入“我的-人生传记”→选择时间范围（年度/自定义）→选择包含的模块（美食、旅行、羁绊、目标、小确幸）→选择排版模板（简约版、文艺版、复古版）→点击“生成”→系统自动排版，生成PDF/EPUB格式；
- 内容包含：生成的传记包含“时间轴总览、各模块详细记录（带图文）、AI总结（年度情绪、社交、目标总结）、数据可视化（味觉地图、旅行足迹、心情气泡图）、共同回忆（好友陪伴历程）”；
- 编辑功能：生成传记后，支持用户手动编辑（修改文字、添加备注、删除不需要的记录、调整排版）；
- 保存与导出：编辑完成后，支持保存至本地、导出PDF/EPUB。